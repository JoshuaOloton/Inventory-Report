{% extends 'base.html' %}

{% block page_content %}

<br>
<div class="container">
    <h3>DISBURSED INVENTORY</h3>
    <!-- <p>The .table class adds basic styling (light padding and only horizontal dividers) to a table:</p> -->
    <table class="table myTable" id="get">
      <thead>
        <tr>
          <th colspan="2"><input type="text" placeholder="Search Items" class="form-control search_item" onkeyup="myFunction()"></th>
          <th colspan="2"><input type="text" placeholder="Search Destination" class="form-control search_dest" onkeyup="myFunction()"></th>
        </tr>
        <tr>
          <th>ITEM</th>
          <th>NO OF UNITS</th>
          <th>DATE DISBURSED</th>
          <th>DESTINATION</th>
        </tr>
      </thead>
      <tbody>
        {% for disbursed in outgoing %}
        <tr>
          <td>{{ disbursed.item }}</td>
          <td>{{ disbursed.units }}</td>
          <td>{{ disbursed.date_disbursed.strftime("%b-%d-%y") }}</td>
          <td>{{ disbursed.destination | title }}</td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
    <a class="btn btn-outline-secondary btn-sm mb-5" href="{{ url_for('main.download', process='disburse', filter=filter) }}">
      <i class="bi bi-download"></i>
      Download
    </a>
    <!-- process value of disburse is passed to the download function to read the appopriate html table -->
</div>

{% endblock %}